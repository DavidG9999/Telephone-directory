# Программа "Телефонный справочник"

Программа __телефонный справочник__ включает в себя возможности просмотра, редактирования и изменения данных, которые берутся и хранятся в текстовом файле формата _“.txt”_. 

Текстовый файл представлен в виде таблицы с колонками: ___Фамилия, Имя, Отчество, Название организации, Телефон рабочий, Телефон личный (сотовый)___. Данные в файле хранятся в виде строк с разделительной запятой между «ячейками» данных (формат аналогичен формату _“.csv”_). Пример вида текстового файла:

 ```
 Фамилия,Имя,Отчество,Название организации,Телефон рабочий,Телефон личный (сотовый)
 Деканоидзе,Вахтанг,Шотович,ООО Ласточка,89087969543,89125678685
 Деканоидзе,Давид,Вахтангович,ООО Легенда№17,89898068026,89898078027
 ```

### Реализация программы: 
___

Файл [main.py](main.py) можно разбить на три больших логических блока.

Сначала идет __блок получения данных__. Он получает на вход данные из текстового файла [dataForHandbook.txt](dataForHandbook.txt) и создает из этих данных два датафрейма (`df`, `new_df`) с помощью библиотеки ___pandas___. 
Библиотеку pandas можно установить с помощью команды в терминале: 

```
> pip install pandas
```  

Датафрейм `df` нужен для обработки данных и последующей записи этих данных в файл [dataForHandbook.txt](dataForHandbook.txt).

Датафрейм `new_df` нужен для поиска и вывода данных в консоль. 

Далее датафрейму `new_df` создается новый столбец  `'Страница'` и заполняется `None` значениями. 

После идут __условия__ с __циклами__, которые обрабатывают данные и присваивают строкам в столбце `'Страница'` актуальные номера страниц. __Условия__ нужны для корректной работы программы, потому что в зависимости от размера датафрейма данные могут неправильно присваивать себе номера страниц, или же в конце датафрейма создадутся строки с NaN значениями.

__Максимальное__ количество записей в датафреймах равно __50__ строкам, __максимальное__ количество записей на одной странице равно __5__ строкам.
_Это сделано для простоты. В случае необходимости можно увеличить количество записей, но для этого нужно будет добавить новые условия для создания страниц в файл [main.py](main.py)._ 

Далее идет __блок функций__ в котором реализован __основной функционал__ программы. Здесь создаются следующие функции: 
* _Вывод данных с одной страницы_
* _Вывод данных с нескольких страниц подряд_
* _Добавление записи_ 
* _Редактирование записи_ 
* _Поиск данных по личному номеру телефона_ 
* _Поиск данных по рабочему номеру телефона_ 
* _Поиск данных по ФИО_
* _Поиск данных либо по фамилии, либо по имени, либо по отчеству_

Подробная информация о функциях есть в файле [main.py](main.py).

Далее идет __блок взаимодействия__ , в котором реализован интерфейс взаимодействия пользователя с консолью. 

В этом файле производится __ввод__ команд в __консоль__, которые в свою очередь при правильном вводе вызывают конкретную функцию, которую желает вызвать пользователь. 

Каждая команда проверяет __корректность__ введенной информации в консоль, после чего дается __одна попытка__ на ввод корректной информации. Иначе __программа завершится__. 

Так, например, если на начальном экране списка команд внести вместо __номера команды__ какую нибудь __строку__, а не __целое число__, то программа выдаст __ошибку__ и запросит еще раз ввести число. Если же опять ввести другой тип данных, то программа выдаст сообщение `"Завершение программы!"` и __завершится__. При вводе команды под __несуществующим__ номером, программа выдаст сообщение `"Команды под номером (введенное число) не существует"`, после чего программа запросит __продолжить__ ли её или нет. Выведется сообщение `"Хотите продолжить?"`, после чего пользователю предложат ввести `да` или `нет`. Если ввести `да` программа __продолжиться__. Это возможно благодаря __бесконечному циклу__ `while True:` созданному в начале программы. В противном случае программа выдаст сообщение `"Закрытие программы"` и __завершится__.

### Схема связи файлов программы:
___

![Изображение схемы файлов](https://github.com/DavidG9999/Telephone-directory/blob/master/images/img1.png)

### Пример использования программы: 
___

1. Начальный интерфейс программы. Состоит из списка команд и строки ввода.
   
![Начальный интерфейс программы](https://github.com/DavidG9999/Telephone-directory/blob/master/images/img2.png)

2. Ввод команды `Добавить новую запись` и ввод значений. После выводится сообщение `Новая запись добавлена успешно`. Далее выводится запрос на продолжение. Введем `да`.
   
![Ввод команды](https://github.com/DavidG9999/Telephone-directory/blob/master/images/img3.png)  

3. Новая запись в текстовом файле.

![Новая запись](https://github.com/DavidG9999/Telephone-directory/blob/master/images/img4.png)  

4. Попробуем ввести несуществующую команду 5. Выведится с сообщение `Команды под номером 5 не существует`. После опять выводится запрос на продолжение. Введем `нет`.

![Несуществующая команда](https://github.com/DavidG9999/Telephone-directory/blob/master/images/img5.png)  

5. После ввода `нет` выводится сообщение `Закрытие программы.` и программа завершается.

![Команда нет](https://github.com/DavidG9999/Telephone-directory/blob/master/images/img6.png) 

6. Запустим программу снова. Теперь попробуем ввести команду неправильно. Выведится сообщение об ошибке и нам предложат ввести команду снова. Введем опять неправильно. На этот раз выведится сообщение `Завершение программы!` и программа завершится.

![Команда нет](https://github.com/DavidG9999/Telephone-directory/blob/master/images/img7.png) 

